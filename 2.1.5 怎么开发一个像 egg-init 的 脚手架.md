# æ€ä¹ˆå¼€å‘ä¸€ä¸ªåƒ egg-init/ vue-cli çš„ è„šæ‰‹æ¶

æˆ‘å‘åœ¨ cnode ç¤¾åŒºçš„[æ€ä¹ˆå¼€å‘ä¸€ä¸ªåƒ egg-init/ vue-cli çš„ è„šæ‰‹æ¶](https://cnodejs.org/topic/5b7ac6df632c7f422e5b8006#5b7ad19e632c7f422e5b800d)ï¼Œ

æƒ³è‡ªå·±å»å†™ä¸€ä¸ª

çœ‹åˆ°æœ‰é˜¿é‡Œçš„å‰è¾ˆç»™äº†æç¤º

atian25ï¼š

egg-init å½“å‰ç‰ˆæœ¬å¤§æ¦‚æ˜¯æˆ‘ä¸¤å¹´å‰å†™çš„ï¼Œå®ç°çš„å¾ˆç²—ç³™ï¼Œè¿˜æ˜¯ä¸è¦çœ‹ ğŸ˜‚

ä¸è¿‡æœ€è¿‘ç»ˆäºæœ‰ç‚¹æ—¶é—´å¯ä»¥é‡æ„ï¼Œæœ‰å…´è¶£å¯ä»¥å…³æ³¨ä¸‹å¯¹åº”çš„ RFC ææ¡ˆå’Œ PRï¼Œäº†è§£ä¸‹å¦‚ä½•ä»é›¶å¼€å§‹è®¾è®¡ä¸€ä¸ªéª¨æ¶ä½“ç³»ï¼šhttps://github.com/eggjs/egg/issues/2892

åº•å±‚åŸºäºæˆ‘ä»¬å†™çš„é€šç”¨ CLI ç±»åº“ common-binï¼Œå½“æ—¶çš„ RFC ææ¡ˆï¼šhttps://github.com/eggjs/egg/issues/471

åŒæ ·æˆ‘ä»¬çš„ egg-bin ä¹Ÿæ˜¯åŸºäºå®ƒçš„ã€‚

è¿™å‡ ä¸ªæ˜¯é€‚ç”¨äºæˆ‘ä»¬è‡ªå·±å¼€å‘ä¹ æƒ¯çš„ï¼Œä»…ä¾›å‚è€ƒï¼Œä¸ä¸€å®šæ˜¯æœ€ä½³æ–¹æ¡ˆã€‚è¿˜æœ‰ä¸ª https://github.com/oclif/oclif ä¹Ÿä¸é”™ï¼Œå¯ä»¥çœ‹çœ‹

- çŸ¥ä¹çš„ä¸€ä¸ªå›ç­”ï¼ŒçŸ¥ä¹ - è„šæ‰‹æ¶ç±»çš„å‘½ä»¤è¡Œå·¥å…·ç”¨åˆ°äº†å“ªäº›æŠ€æœ¯?
  - https://www.zhihu.com/question/58406043/answer/159712819


- ä¹Ÿçœ‹åˆ°ç¤¾åŒºæœ‰å‰è¾ˆå†™ [å¦‚ä½•ç”¨nodeå¼€å‘è‡ªå·±çš„cliå·¥å…·](https://cnodejs.org/topic/5b6b321758db3ccf66a45339)


## æœ¯è¯­å«ï¼šè„šæ‰‹æ¶ / éª¨æ¶ / boilerplate å¸¸è§ 
-  yeoman.io -- ç›®å‰çš„ä¸»æµ 
- å…¶ä»–è‡ªå·±å®ç°çš„ 

å®ƒä»¬çš„åº•å±‚ï¼Œä¸»è¦æ˜¯ç”¨åˆ°äº† 
- SBoudrias/Inquirer.js å¤„ç†äº¤äº’å¼å›ç­”ï¼Œè­¬å¦‚è®©ä½ è¾“å…¥æŸä¸ªæ•°æ®ï¼Œæˆ–é€‰æ‹©æŸä¸ªæ•°æ®ã€‚ 
- å‘½ä»¤å¤„ç† + å‚æ•°åˆ†æï¼Œè¿™ä¸ªçš„å®ç°å°±å¤šäº†ï¼š 
  - tj/commander.js -- è€ç‰Œï¼Œä¸è¿‡åŠŸèƒ½æœ‰ç‚¹è–„å¼±ï¼Œè¦é…åˆ [substack/minimist](https://link.zhihu.com/?target=https%3A//github.com/substack/minimist) ç­‰åšå‚æ•°åˆ†æã€‚ 
  - yargs -- è¿™ä¸ªåŠŸèƒ½æŒºå¼ºå¤§çš„ï¼Œè™½ç„¶å†…éƒ¨ä»£ç å†™çš„å¾ˆçƒ‚ã€‚ 
  - è¿˜æœ‰æˆ‘ä»¬å›¢é˜Ÿå¯¹ yargs åšçš„ä¸€ä¸ªä¸Šå±‚å°è£… [node-modules/common-bin](https://link.zhihu.com/?target=https%3A//github.com/node-modules/common-bin) ï¼Œæ”¯æŒ async ç­‰é«˜çº§åŠŸèƒ½ã€‚ 
  - æœ€è¿‘åœ¨å…³æ³¨ https://github.com/oclif/oclif
  -  [chalk/chalk](https://link.zhihu.com/?target=https%3A//github.com/chalk/chalk) å‘½ä»¤è¡Œè¾“å‡ºä¸åŒé¢œè‰² é¡ºä¾¿æä¸‹ï¼Œ
  - è¿˜æœ‰ä¸€äº›æ›´é«˜çº§çš„å‘½ä»¤è¡Œ dashboard ï¼Œå¦‚ Yomguithereal/react-blessed(https://link.zhihu.com/?target=https%3A//github.com/Yomguithereal/react-blessed)

å…¶å®åˆå§‹åŒ–åªæ˜¯å…¶ä¸­ä¸€å°æ­¥ï¼ŒçœŸæ­£åšå®Œå–„çš„è¯ï¼Œè¿˜æœ‰å¾ˆå¤šç‚¹ï¼Œå¦‚ï¼š 
- å®ç° sub generatorï¼Œè­¬å¦‚ egg-init add controller Test ä¿®æ”¹åŸæœ‰çš„æ–‡ä»¶ï¼Œå¦‚æ·»åŠ ä¸€ä¸ª controller åï¼Œè‡ªåŠ¨å¾€ router.js é‡Œé¢åŠ ä¸€ä¸ªæ³¨å†Œå•¥çš„ã€‚ï¼ˆä¸æ˜¯ç®€å•çš„ appendï¼Œè€Œæ˜¯è¦åˆ†æè¯­æ³•ï¼‰ 
- å¦‚ä½•å¯¹ä½ çš„å·¥å…·è¿›è¡Œå®Œå¤‡çš„æµ‹è¯•ï¼Ÿå¯ä»¥ç”¨æˆ‘ä»¬å†™çš„ popomore/coffee å’Œ eggjs/egg-bin ã€‚
- è„šæ‰‹æ¶çš„å‡çº§æœºåˆ¶ï¼šç›®å‰å¾ˆå¤šè„šæ‰‹æ¶çš„å®ç°æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œåˆå§‹åŒ–åå°±æ²¡æœ‰å…³ç³»äº†ï¼Œè‹¥æ˜¯è„šæ‰‹æ¶å‡çº§æ–°ç‰ˆæœ¬äº†ï¼Œä¹‹å‰çš„é¡¹ç›®éƒ½éœ€è¦æ‰‹åŠ¨å»å‡çº§ï¼Œå¾ˆéº»çƒ¦ã€‚
ä½†å…¶å®è¿™å—æ˜¯å¯ä»¥è€ƒè™‘ç”¨ facebook/codemod ç­‰æ–¹å¼å»è‡ªåŠ¨åŒ–å‡çº§ã€‚ ç­‰ç­‰


## å‰ç½®çŸ¥è¯†

- æ¨¡æ¿ç»“æ„
  - 1.é¦–å…ˆæˆ‘ä»¬å…ˆæ¥äº†è§£æ¨¡æ¿çš„ä¸»è¦ç»“æ„ï¼Œæ¨¡æ¿ç»“æ„å¾ˆç®€å•ï¼Œä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼š

      - template è¯¥ç›®å½•ç”¨äºå­˜æ”¾æ¨¡æ¿æ–‡ä»¶ï¼Œåˆå§‹åŒ–é¡¹ç›®ç”Ÿæˆçš„æ–‡ä»¶æ¥è‡ªäºæ­¤ã€‚
      - meta.js / meta.json ç”¨äºæè¿°åˆå§‹åŒ–é¡¹ç›®æ—¶å‘½ä»¤è¡Œçš„äº¤äº’åŠ¨ä½œã€‚
  - 2.Metalsmith
    - Metalsmith åœ¨æ¸²æŸ“é¡¹ç›®æ–‡ä»¶æµç¨‹ä¸­è§’è‰²ç›¸å½“äº gulp.jsï¼Œå¯ä»¥é€šè¿‡æ·»åŠ ä¸€äº›æ’ä»¶å¯¹æ„å»ºæ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œå¦‚é‡å‘½åã€åˆå¹¶ç­‰ã€‚
  - 3.download-git-repo
ã€€ã€€- ä½¿ç”¨ vue-cli åˆå§‹åŒ–é¡¹ç›®æ—¶ä¼šä½¿ç”¨è¯¥å·¥å…·æ¥ä¸‹è½½ç›®æ ‡ä»“åº“ã€‚é»˜è®¤çš„ webpack ç­‰æ¨¡æ¿ç›´æ¥ä¸‹è½½ vue-templates ä¸­å¯¹åº”çš„æ¨¡æ¿ä»“åº“ã€‚
    - è‡ªå®šä¹‰çš„æ¨¡æ¿ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª GitHub ä»“åº“ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥åˆå§‹åŒ–é¡¹ç›®ï¼š

    `vue init username/repo my-project`
    å…¶ä¸­ username ä¸ºè‡ªå®šä¹‰æ¨¡æ¿ä»“åº“æ‰€åœ¨çš„ GitHub ç”¨æˆ·æˆ–ç»„ç»‡åï¼Œrepo ä¸ºä»“åº“åã€‚
  - 4.Inquirer.js
    - vue-cli åœ¨æ¨¡æ¿ä»“åº“ä¸‹è½½å®Œæˆåï¼Œå°†é€šè¿‡ Inquirer.js æ ¹æ®æ¨¡æ¿ä»“åº“ä¸­çš„ meta.js æˆ– meta.json æ–‡ä»¶ä¸­çš„è®¾ç½®ï¼Œä¸ç”¨æˆ·è¿›è¡Œä¸€äº›ç®€å•çš„äº¤äº’ä»¥ç¡®å®šé¡¹ç›®çš„ä¸€äº›ç»†èŠ‚ï¼Œ
  - 5.Handlebars.js
ã€€ã€€åœ¨é€šè¿‡å‘½ä»¤è¡Œäº¤äº’ç¡®å®šäº†é¡¹ç›®åˆå§‹åŒ–çš„ç»†èŠ‚åï¼Œå°±è¯¥è¿›å…¥æœ€åä¸€é“å·¥åºï¼ŒæŒ‰ç…§æ¨¡æ¿åˆå§‹åŒ–æˆ‘ä»¬çš„é¡¹ç›®å•¦ï¼\(â‰§â–½â‰¦)/ 
ã€€ã€€è¿™é‡Œ vue-cli é€‰ç”¨çš„æ˜¯ Handlebars.js â€”â€” ä¸€ä¸ªç®€å•é«˜æ•ˆçš„è¯­ä¹‰åŒ–æ¨¡æ¿æ„å»ºå¼•æ“ã€‚
![](https://segmentfault.com/img/bV1X79?w=889&h=517)

- meta.js é…ç½®æ–‡ä»¶ï¼ˆInquirer.jsï¼‰
ã€€ã€€ç”±äº meta.js ç›¸å½“äºæ¨¡æ¿é¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼ˆè™½ç„¶éå¿…é€‰ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆçœ‹çœ‹å®ƒä¸»è¦èƒ½å¹²äº›å•¥ã€‚  
ã€€ã€€è®¾ç½®éƒ½åœ¨ meta.js æˆ– meta.json ä¸­é…ç½®ï¼Œæ¨èä½¿ç”¨ meta.jsï¼Œæ›´çµæ´»ä¸€äº›ã€‚ä»¥ä¸‹ä¹Ÿå°†ä»¥ meta.js è¿›è¡Œå±•å¼€è¯´æ˜ã€‚  
ã€€ã€€meta.js ä¸€å…±å¯åŒ…å«å¦‚ä¸‹å‡ ä¸ªå­—æ®µï¼Œç®€å•åˆ—ä¸€ä¸‹å„å­—æ®µåŠŸèƒ½ï¼š  

    - helpers : è‡ªå®šä¹‰ Handlebars.js çš„è¾…åŠ©å‡½æ•°
    - prompts : åŸºäº Inquirer.js çš„å‘½ä»¤è¡Œäº¤äº’é…ç½®
    - filters : æ ¹æ®å‘½ä»¤è¡Œäº¤äº’çš„ç»“æœè¿‡æ»¤å°†è¦æ¸²æŸ“çš„é¡¹ç›®æ–‡ä»¶
    - metalsmith : é…ç½® Metalsmith æ’ä»¶ï¼Œæ–‡ä»¶ä¼šåƒ gulp.js ä¸­çš„ pipe ä¸€æ ·ä¾æ¬¡ç»è¿‡å„ä¸ªæ’ä»¶å¤„ç†
    - completeMessage : å°†æ¨¡æ¿æ¸²æŸ“ä¸ºé¡¹ç›®åï¼Œè¾“å‡ºä¸€äº›æç¤ºä¿¡æ¯ï¼Œå–å€¼ä¸ºå­—ç¬¦ä¸²
    - complete : ä¸ completeMessage åŠŸèƒ½ç›¸åŒï¼ŒäºŒé€‰å…¶ä¸€ï¼Œå–å€¼ä¸ºå‡½æ•°ï¼Œå‡½æ•°æœ€åéœ€è¿”å›è¾“å‡ºçš„å­—ç¬¦ä¸²


## åŸç†å›¾
![](https://user-gold-cdn.xitu.io/2017/12/14/160529d55c89ef9a?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1)


## å‚è€ƒ
- https://github.com/eggjs/egg/issues/2892
- https://github.com/eggjs/egg/issues/471
- https://github.com/node-modules/common-bin
- å¦‚ä½•ç”¨nodeå¼€å‘è‡ªå·±çš„cliå·¥å…·: https://cnodejs.org/topic/5b6b321758db3ccf66a45339
- ä½¿ç”¨Yeomanå®šåˆ¶å‰ç«¯è„šæ‰‹æ¶: https://juejin.im/post/5991f2975188257c666c64f4

- æ·±åº¦å®šåˆ¶å›¢é˜Ÿè‡ªå·±çš„ Vue template: https://segmentfault.com/a/1190000012823487
- åŸºäºnode.jsçš„è„šæ‰‹æ¶å·¥å…·å¼€å‘ç»å†: https://juejin.im/post/5a31d210f265da431a43330e
  - code: https://github.com/huomarvin/hwxyz

- https://github.com/egoist/sao

- https://github.com/egoist/cac

- https://github.com/egoist/majo

- https://github.com/egoist/kopy


- ä½¿ç”¨ Node.js å¼€å‘ç®€å•çš„è„šæ‰‹æ¶å·¥å…·ï¼š https://zhuanlan.zhihu.com/p/37929333
